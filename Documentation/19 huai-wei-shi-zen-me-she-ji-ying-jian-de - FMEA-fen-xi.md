19 FMEA分析
======================

原创 硬件十万个为什么 2020-03-16 20:12:04

今天中午与华为一位老兄弟聚餐，他说，华为做穿戴式设备很痛苦。为什么呢，华为在用做通信设备的严谨性在做终端设备。

例如，做一款手环，手环的难度在于：天线设计和防水。华为的手环天线不但在要自由空间中测试手环的TIS，TRP；而且要测试手模的TIS和TRP，也就是要测试手环或者手表戴在手上的真实场景的射频关键参数；而一些互联网公司外包的手环或者儿童手表，其实没有测试相关的场景，虽然在不戴在手上的时候，指标还好。

备注：TRP（total radiated power）是总辐射功率，我们平时说的发射功率应该是NHPRP（near horizontal part radiated power）接近水平面部分辐射功率。TIS（total istropic sensitivity）是总全向灵敏度，我们平时说的接收灵敏度应该是NHPIS（near horizontal part istropic sensitivity）接近水平面部分全向灵敏度。

另外的话，手表一旦承诺防水等级IP67之后，那么每台设备在出厂前都需要进行气密性和防水测试。如果通过不了，产品不能正常过点，也就不允许发货。所以工程师也非常苦逼。

华为由于在可靠性积累多年，所以在可靠性方面可以讲的很多。我先从可靠性设计中非常重要的FMEA，说起。

**第一部分、概念**

先说一下定义：FMEA是一种可靠性设计的重要方法。它实际上是FMA（故障模式分析）和FEA（故障影响分析）的组合。它对各种可能的风险进行评价、分析，以便在现有技术的基础上消除这些风险或将这些风险减小到可接受的水平。

FMEA（失效模式与影响分析）　　Failure Mode and Effects Analysis　　潜在失效模式与后果分析

历史：

50年代初，美国第一次将FMEA思想用于一种战斗机操作系统的设计分析；　　

60年代中期，FMEA技术正式用于航天工业（Apollo计划）；　　

1976年，美国国防部颁布了FMEA的军用标准，但仅限于设计方面。　　

70年代末，FMEA技术开始进入汽车工业和医疗设备工业。　　80年代初，进入微电子工业。　　

80年代中期，汽车工业开始应用过程FMEA确认其制造过程。　　

1988年，美国联邦航空局发布咨询通报要求所有航空系统的设计及分析都必须使用FMEA。　　

1991年，ISO-9000推荐使用FMEA提高产品和过程的设计。　　

1994年，FMEA又成为QS-9000的认证要求。

我们做FMEA的目的是：

能够容易、低成本地对产品或过程进行修改，从而减轻事后危机的修改。

找到能够避免或减少这些潜在失效发生的措施；

益处显而易见：

·指出设计上可靠性的弱点，提出对策

·针对要求规格、环境条件等，利用实验设计或模拟分析，对不适当的设计，实时加以改善，节省无谓的损失

·有效的实施FMEA，可缩短开发时间及开发费用

·FMEA发展之初期，以设计技术为考虑，但后来的发展，除设计时间使用外，制造工程及检查工程亦可适用

·改进产品的质量、可靠性与安全性

**第二部分、质量是设计出来的，不是测试出来的。**

在我看来，FMEA不单纯是一种故障后果防范的工具，更是一种设计理念。也就是说：在你设计电路或者设计软件的时候，就需要考虑某个部件如果损坏了，可能对系统的影响，并且在设计的时候就能够预见，并制定对策。

看下图，你可以发现可靠性不是靠测试出来问题，解决问题实现的。而是设计出来的。也就是我们经常说的“质量是设计出来的”。

看着下图简略的描述，可以看到，在设计的概念阶段、就介入的可靠性的设计，而在计划阶段和开发阶段的起始，就需要完成FMEA的分析报告。

1、帮助决策者从各种方案中选择满足可靠性要求的最佳方案

2、通过系统级FEMA分析并确定系统最合理的可靠性架构，功能模块划分，冗余策略，复位策略，集中式/分散式控制策略等

3、通过板级/器件级FEMA保证所有单元的各种故障模式及其影响都被周密考虑

4、找出系统的可靠性薄弱环节，分析每个单元故障后对系统功能影响及其影响程度，为进一步改进产品可靠性设计以及可靠性定量计算提供资料

产品的可靠性可以理解为三个规定，即规定条件下、规定时间内、产品完成规定功能的能力。

从用户的角度考虑，可简单地理解为几个层面的要求：

1、硬件不出故障；

2、硬件故障，仅对性能有部分影响，设备的功能不受损。

3、硬件故障，设备部分或全部功能受损。但能尽快恢复业务。

**第三部分、FMEA的基本思想：遍历性、系统性。**

我们可以在很多FMEA的教材上面看到这两个概念：遍历性、系统性。那么这两点在硬件设计的过程中是如何体现的呢？

FMEA的分析方法：

硬件法，从硬件的角度，对每个器件管脚输出分别去考虑故障模式、故障影响、检测补偿措施。（因为我们遍历了每一个器件、每一个器件的每一个管脚，所以这里体现了遍历性）

功能法，每个产品可以完成若干功能，而功能可以按输出分类。这种方法将输出一一列出，并对它们的故障模式进行分析。对应系统级、单板级分析。（此处按照功能和场景，对故障模式分别进行遍历和分析）。

**第四部分、FMEA分析操作步骤**

![](http://p1.pstatp.com/large/pgc-image/e5b67e06565044ce907be3960bcc9c8c)

**严酷等级：**

1、这种故障会导致整个系统崩溃或主要功能受到严重影响；2、这种故障会导致系统主要功能受到影响、任务延误的系统轻度损坏或存在较大的故障隐患；

3、系统次要功能丧失或下降，须立即修理，但不影响系统主要功能实现的故障；

4、部分次要功能下降，只须一般维护的，不对功能实现造成影响（一般告警或指示灯故障等）。

**描述结构图 ：**

清晰功能模块之间的相互关系，主要输入/输出信号。

![](http://p1.pstatp.com/large/pgc-image/262e96d582b14f619f1e9061dcfcf83f)

**参考的FMEA表格：**

![](http://p3.pstatp.com/large/pgc-image/94cc07288e3d41b989d2120594da1ff2)

**我曾经开发过程中，也非常的急于出成果。但是正真做成硬件精品，往往忽略一些功能设计之外的考虑，最后导致返工。**

**可靠性设计，包含FMEA的设计是很重要的。磨刀不负砍柴工，从设计阶段，就融入可靠性、预防失效的思考，让你的设计上升一个台阶**